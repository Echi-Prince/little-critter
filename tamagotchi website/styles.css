/* ===== Base / Theme ===== */
:root{
  --bg: #0b0f14;
  --bg2:#0f1722;
  --ink:#e9ffef;
  --muted:#a6c7b0;
  --accent:#4cff90;
  --accent2:#39c6ff;
  --warn:#ffd166;
  --bad:#ff5c7a;

  --shell:#131a25;
  --panel:#0f1520;
  --stroke:#2a3b52;

  --lcd:#c9ffd8;
  --lcd-ink:#0e2516;

  --radius:18px;
  --pixel: 2px;
  --shadow: 0 18px 40px rgba(0,0,0,.45);
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font);
  background: radial-gradient(1200px 700px at 20% 0%, #1a2a2a 0%, var(--bg) 55%, #070a0e 100%);
  color:var(--ink);
}

/* background grid */
.bg-grid{
  position:fixed; inset:0;
  background-image:
    linear-gradient(to right, rgba(76,255,144,.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(76,255,144,.05) 1px, transparent 1px);
  background-size: 44px 44px;
  pointer-events:none;
  opacity:.9;
  mask-image: radial-gradient(closest-side at 40% 20%, rgba(0,0,0,1), rgba(0,0,0,.2));
}

/* ===== Topbar ===== */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:18px 20px;
  border-bottom:1px solid rgba(42,59,82,.65);
  background: linear-gradient(180deg, rgba(19,26,37,.92), rgba(12,16,22,.65));
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(8px);
}
.brand{display:flex; gap:12px; align-items:center}
.logo{
  width:38px;height:38px;border-radius:12px;
  display:grid;place-items:center;
  background: linear-gradient(180deg, rgba(76,255,144,.18), rgba(57,198,255,.12));
  border:1px solid rgba(76,255,144,.35);
  box-shadow: 0 10px 25px rgba(0,0,0,.35);
  font-weight:800;
}
.brand-title{font-weight:850; letter-spacing:.6px}
.brand-sub{color:var(--muted); font-size:.88rem}

.toggles{display:flex; gap:10px; align-items:center}
.chip{
  border:1px solid rgba(42,59,82,.85);
  background: rgba(15,21,32,.8);
  color:var(--ink);
  padding:10px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:650;
}
.chip:hover{border-color: rgba(76,255,144,.6)}
.chip.danger:hover{border-color: rgba(255,92,122,.7)}

/* ===== Layout ===== */
.shell{
  width:min(1120px, 92vw);
  margin:22px auto 22px;
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:18px;
}
@media (max-width: 980px){
  .shell{grid-template-columns:1fr; }
}

/* ===== Device ===== */
.device{
  background: linear-gradient(180deg, rgba(19,26,37,.88), rgba(10,13,18,.88));
  border:1px solid rgba(42,59,82,.85);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden;
}

.device-top{
  display:flex; justify-content:space-between; gap:16px;
  padding:16px 16px 0 16px;
}
.status-lights{display:flex; gap:8px; padding-top:4px}
.light{
  width:10px;height:10px;border-radius:999px;
  background: rgba(76,255,144,.35);
  border:1px solid rgba(76,255,144,.55);
  box-shadow:0 0 18px rgba(76,255,144,.18);
}
.light:nth-child(2){background: rgba(57,198,255,.35); border-color: rgba(57,198,255,.55)}
.light:nth-child(3){background: rgba(255,209,102,.35); border-color: rgba(255,209,102,.55)}

.pet-meta{
  display:grid; gap:6px;
  margin-left:auto;
  font-family:var(--mono);
  color:var(--muted);
}
.meta-line{display:flex; gap:10px; justify-content:flex-end}
.meta-line .label{opacity:.9}
.meta-line .value{color:var(--ink)}

/* ===== Screen ===== */
.screen-wrap{padding:16px}
.screen{
  position:relative;
  background: linear-gradient(180deg, rgba(201,255,216,.95), rgba(168,235,192,.92));
  color: var(--lcd-ink);
  border-radius: 18px;
  border: 2px solid rgba(14,37,22,.45);
  box-shadow: inset 0 0 0 4px rgba(14,37,22,.12);
  padding:14px;
  overflow:hidden;
}
.scanlines{
  position:absolute; inset:0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(14,37,22,.08),
    rgba(14,37,22,.08) 2px,
    rgba(14,37,22,.02) 4px,
    rgba(14,37,22,.02) 6px
  );
  opacity:.55;
  pointer-events:none;
  mix-blend-mode:multiply;
}

.screen-header{
  display:flex; justify-content:space-between; align-items:baseline;
  font-family:var(--mono);
  margin-bottom:10px;
}
.lcd-title{letter-spacing:1.2px; font-weight:900}
.lcd-clock{font-weight:800}

.pet-area{
  position:relative;
  height: 180px;
  border-radius: 14px;
  border: 2px solid rgba(14,37,22,.35);
  background:
    radial-gradient(circle at 30% 30%, rgba(14,37,22,.12), transparent 45%),
    radial-gradient(circle at 70% 60%, rgba(14,37,22,.10), transparent 55%),
    rgba(255,255,255,.25);
  display:grid;
  place-items:center;
  margin-bottom:12px;
}

/* ===== Pixel Pet (CSS art) ===== */
.pet{
  width: 88px; height: 88px;
  position:relative;
  image-rendering: pixelated;
  filter: drop-shadow(0 6px 0 rgba(14,37,22,.15));
}

/* Body */
.pet::before{
  content:"";
  position:absolute; inset:0;
  border-radius: 18px;
  background:
    linear-gradient(180deg, rgba(14,37,22,.18), transparent 40%),
    rgba(14,37,22,.18);
  box-shadow:
    inset 0 0 0 6px rgba(14,37,22,.22),
    inset 0 0 0 12px rgba(255,255,255,.25);
}

/* Face layer */
.pet::after{
  content:"";
  position:absolute; left:18px; right:18px; top:26px; height:40px;
  background:
    radial-gradient(circle at 22% 40%, rgba(14,37,22,.95) 0 4px, transparent 5px),
    radial-gradient(circle at 78% 40%, rgba(14,37,22,.95) 0 4px, transparent 5px),
    radial-gradient(circle at 50% 70%, rgba(14,37,22,.95) 0 3px, transparent 4px);
  opacity:.92;
}

/* Animations */
.pet.idle{ animation: bob 1.4s ease-in-out infinite; }
.pet.happy{ animation: bob 1s ease-in-out infinite, wiggle .35s ease-in-out 6; }
.pet.sad{ filter: drop-shadow(0 6px 0 rgba(14,37,22,.12)) grayscale(.1); }
.pet.sleep{ opacity:.65; animation: none; }
.pet.dirty::before{ box-shadow: inset 0 0 0 6px rgba(14,37,22,.22), inset 0 0 0 12px rgba(255,255,255,.25), 0 0 0 2px rgba(255,92,122,.25); }

@keyframes bob{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-6px); }
}
@keyframes wiggle{
  0%,100%{ transform: rotate(0deg); }
  25%{ transform: rotate(-6deg); }
  75%{ transform: rotate(6deg); }
}

/* Speech bubble */
.bubble{
  position:absolute;
  top:14px; right:14px;
  padding:8px 10px;
  border-radius: 12px;
  border: 2px solid rgba(14,37,22,.35);
  background: rgba(255,255,255,.55);
  font-family: var(--mono);
  font-weight:800;
}
.hidden{display:none}

/* ===== Meters ===== */
.meters{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-bottom:12px;
}
@media (max-width:520px){
  .meters{grid-template-columns:1fr}
}
.meter-label{font-family:var(--mono); font-weight:800; font-size:.9rem}
.bar{
  height: 12px;
  border-radius: 999px;
  background: rgba(14,37,22,.15);
  border:1px solid rgba(14,37,22,.25);
  overflow:hidden;
}
.fill{
  height:100%;
  width:50%;
  background: linear-gradient(90deg, rgba(14,37,22,.88), rgba(14,37,22,.65));
  border-radius:999px;
  transition: width .25s ease;
}

/* ===== Log ===== */
.log{
  border-top: 1px dashed rgba(14,37,22,.35);
  padding-top:10px;
}
.log-title{
  font-family:var(--mono);
  font-weight:900;
  letter-spacing:1px;
  margin-bottom:6px;
}
.log-list{
  margin:0; padding-left:18px;
  max-height: 120px;
  overflow:auto;
  font-family: var(--mono);
}
.log-list li{margin:4px 0}

/* ===== Controls ===== */
.controls{
  padding: 0 16px 16px 16px;
}
.control-row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}
.btn{
  border:1px solid rgba(42,59,82,.85);
  background: linear-gradient(180deg, rgba(15,21,32,.9), rgba(8,10,14,.9));
  color: var(--ink);
  padding:12px 14px;
  border-radius: 14px;
  font-weight:800;
  cursor:pointer;
  letter-spacing:.2px;
  box-shadow: 0 10px 20px rgba(0,0,0,.22);
}
.btn:hover{border-color: rgba(76,255,144,.55)}
.btn:active{transform: translateY(1px)}
.btn.small{padding:10px 12px; border-radius:12px}

.control-row.secondary{
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.wallet{
  display:flex; gap:10px; align-items:baseline;
  font-family: var(--mono);
}
.wallet .value{font-weight:900; color: var(--accent)}
.namebox{
  display:flex; gap:8px; align-items:center;
  flex-wrap:wrap;
}
.namebox input{
  background: rgba(15,21,32,.75);
  border:1px solid rgba(42,59,82,.85);
  color: var(--ink);
  padding:10px 12px;
  border-radius: 12px;
  outline:none;
}
.namebox input:focus{border-color: rgba(57,198,255,.7)}

/* ===== Side Panel ===== */
.panel{
  display:grid; gap:18px;
}
.card{
  background: linear-gradient(180deg, rgba(15,21,32,.85), rgba(8,10,14,.85));
  border:1px solid rgba(42,59,82,.85);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:16px;
}
.card h2{margin:0 0 8px 0; letter-spacing:.3px}
.muted{color:var(--muted)}

.shop{
  display:grid;
  gap:10px;
  margin-top:12px;
}
.shop-item{
  display:grid;
  grid-template-columns: 46px 1fr 46px;
  gap:10px;
  align-items:center;
  text-align:left;
  padding:12px;
  border-radius: 14px;
  border:1px solid rgba(42,59,82,.85);
  background: rgba(19,26,37,.55);
  cursor:pointer;
}
.shop-item:hover{border-color: rgba(57,198,255,.65)}
.shop-ico{
  width:46px;height:46px;border-radius:14px;
  display:grid;place-items:center;
  background: rgba(57,198,255,.14);
  border:1px solid rgba(57,198,255,.25);
  font-size:22px;
}
.shop-name{font-weight:900}
.shop-desc{color:var(--muted); font-size:.9rem}
.shop-price{
  justify-self:end;
  font-family: var(--mono);
  font-weight:900;
  color: var(--warn);
  background: rgba(255,209,102,.12);
  border:1px solid rgba(255,209,102,.25);
  padding:6px 10px;
  border-radius:999px;
}

.tips{margin:10px 0 0 0; padding-left:18px; color:var(--muted)}
.badge-row{display:flex; flex-wrap:wrap; gap:8px; margin-top:14px}
.badge{
  font-family: var(--mono);
  font-size:.85rem;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(42,59,82,.85);
  background: rgba(19,26,37,.45);
}

.footer{
  width:min(1120px, 92vw);
  margin: 0 auto 26px;
  padding: 6px 0;
  border-top:1px solid rgba(42,59,82,.65);
}
